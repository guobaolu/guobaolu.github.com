{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "AAAA,IAAI,SAAS,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC5B,IAAI,QAAQ,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC3B,IAAI,KAAK,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACxB,IAAI,MAAM,GAAG,KAAK,CAAC;AACnB,IAAI,UAAU,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC7B,IAAI,UAAU,GAAG,CAAC,CAAC;AACnB,IAAI,OAAO,GAAG,CAAC,CAAC;AAChB,IAAI,WAAW,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC9B,IAAI,QAAQ,GAAG,CAAC,CAAC;AACjB,EAAE,CAAC,KAAK,CAAC;AACL,eAAS,EAAE,CAAC,SAAS;AACrB,cAAU,EAAE;AACR,aAAK,EAAE;AACH,uBAAS,IAAI;AACb,gBAAI,EAAE,EAAE,CAAC,KAAK;SACjB;AACD,eAAO,EAAE;AACL,uBAAS,IAAI;AACb,gBAAI,EAAE,EAAE,CAAC,KAAK;SACjB;AACD,eAAO,EAAC;AACJ,uBAAS,IAAI;AACb,gBAAI,EAAE,EAAE,CAAC,KAAK;SACjB;AACD,kBAAU,EAAC;AACP,uBAAS,IAAI;AACb,gBAAI,EAAE,EAAE,CAAC,IAAI;SAChB;KACJ;;;AAGD,UAAM,EAAE,kBAAY;;;AAGhB,YAAI,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,GAAG,GAAG,CAAC;AACpC,YAAI,CAAC,GAAG,GAAG,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;AAC9B,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,UAAE,CAAC,YAAY,CAAC,WAAW,CAAC;AACxB,iBAAK,EAAE,EAAE,CAAC,aAAa,CAAC,gBAAgB;AACxC,wBAAY,EAAE,sBAAS,KAAK,EAAE,KAAK,EAAE;AACjC,oBAAG,CAAC,MAAM,EAAC;AACP,wBAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;AAC3B,wBAAI,SAAS,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC;AACpC,+BAAW,GAAG,SAAS,CAAC;AACxB,wBAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,CAAC;AACzD,6BAAS,GAAG,QAAQ,CAAC;AACrB,8BAAU,GAAG,SAAS,CAAC;AACvB,0BAAM,GAAG,IAAI,CAAC;AACd,8BAAU,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;iBACnC;AACD,uBAAO,IAAI,CAAC;aACf;AACD,wBAAY,EAAE,sBAAS,KAAK,EAAE,KAAK,EAAE;AACjC,oBAAG,MAAM,EAAC;;AACN,wBAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;AAC3B,wBAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC;AAC9B,wBAAI,SAAS,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC;;AAEpC,wBAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,CAAC;AACzD,4BAAQ,GAAG,QAAQ,CAAC;;AAEpB,wBAAI,CAAC,GAAG,UAAU,CAAC,EAAE,CAAC,SAAS,CAAE,KAAK,EAAC,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;AAC7D,wBAAI,CAAC,GAAG,UAAU,CAAC,EAAE,CAAC,SAAS,CAAE,KAAK,EAAC,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;AAC9D,wBAAI,CAAC,GAAG,UAAU,CAAC,EAAE,CAAC,SAAS,CAAC,SAAS,EAAC,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;AAChE,wBAAI,QAAQ,GAAG,GAAG,GAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAC,CAAC,GAAG,CAAC,GAAC,CAAC,GAAG,CAAC,GAAC,CAAC,CAAA,IAAG,CAAC,GAAC,CAAC,GAAC,CAAC,CAAA,AAAC,CAAC,GAAE,IAAI,CAAC,EAAE,CAAC;;;;;;;;AAQjE,wBAAG,UAAU,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,IAAI,SAAS,CAAC,CAAC,GAAG,GAAG,EAAC;;AAC/C,4BAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,QAAQ,CAAC;qBAClC,MAAK,IAAG,UAAU,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,IAAI,SAAS,CAAC,CAAC,GAAG,GAAG,EAAC;;AACrD,4BAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,QAAQ,CAAC;qBAClC;;;AAID,6BAAS,GAAG,QAAQ,CAAC;AACrB,8BAAU,GAAG,SAAS,CAAC;iBAC1B;aACJ;AACD,wBAAY,EAAE,sBAAS,KAAK,EAAE,KAAK,EAAE;;AAEjC,oBAAG,OAAO,IAAI,GAAG,EAAC;AACd,wBAAI,QAAQ,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC;AACnC,wBAAG,WAAW,CAAC,CAAC,IAAI,QAAQ,CAAC,CAAC,EAAC;AAC3B,4BAAI,MAAM,GAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,WAAW,CAAC,CAAC,CAAA,GAAE,IAAI,AAAC,CAAC;AACjD,4BAAI,GAAG,YAAA,CAAC;AACR,4BAAG,MAAM,IAAI,CAAC,IAAI,MAAM,IAAI,CAAC,CAAC,EAAC;AAC3B,gCAAG,MAAM,GAAG,CAAC,EAAC;AACV,mCAAG,GAAG,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAC,IAAI,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,kBAAkB,EAAE,CAAC,CAAC;6BAC7D,MAAI;AACD,mCAAG,GAAG,EAAE,CAAC,QAAQ,CAAE,CAAC,EAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,kBAAkB,EAAE,CAAC,CAAC;6BAC/D;yBACJ,MAAI;AACD,+BAAG,GAAG,EAAE,CAAC,QAAQ,CAAE,CAAC,GAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAC,IAAI,GAAC,MAAM,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,kBAAkB,EAAE,CAAC,CAAC;yBACtF;AACD,4BAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;qBAC5B;iBACJ;AACD,yBAAS,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACxB,wBAAQ,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACvB,0BAAU,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;;AAEzB,sBAAM,GAAG,KAAK,CAAC;aAClB;SACJ,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;KACjB;;AAED,eAAW,EAAE,qBAAS,GAAG,EAAC;AACtB,YAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;;;AAG3B,YAAI,IAAI,GAAG,GAAG,GAAC,IAAI,CAAC,GAAG,CAAC;AACxB,YAAI,GAAG,GAAG,EAAE,CAAC,QAAQ,CAAE,GAAG,EAAC,IAAI,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,kBAAkB,EAAE,CAAC,CAAC;AACjE,YAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;KAC5B;;AAED,UAAM,EAAE,gBAAU,EAAE,EAAE;AAClB,YAAI,IAAI,GAAG,IAAI,CAAC;;AAEhB,YAAG,MAAM,EAAC;AACN,mBAAO,IAAI,EAAE,CAAC;SACjB,MAAI;AACD,mBAAO,GAAG,CAAC,CAAC;SACf;;AAED,YAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,GAAG,EAAC;AACxB,gBAAI,CAAC,IAAI,CAAC,QAAQ,IAAG,GAAG,CAAE;SAC7B,MAAK,IAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,GAAG,EAAC;AAC/B,gBAAI,CAAC,IAAI,CAAC,QAAQ,IAAE,GAAG,CAAC;SAC3B;;AAED,gBAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;AAC9B,YAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,GAAG,EAAC;AACxB,oBAAQ,GAAG,EAAE,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAA,AAAC,CAAC;SAC1C,MAAK,IAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,GAAG,EAAC;AAC/B,oBAAQ,GAAG,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;SACvC;AACD,gBAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,GAAI,QAAQ,CAAC,CAAC;AAC5C,YAAI,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC,OAAO,GAAG,QAAQ,CAAC;AAC9C,YAAI,QAAQ,GAAG,AAAC,QAAQ,GAAC,MAAM,CAAC,OAAO,GAAE,GAAG,CAAC;AAC7C,YAAG,QAAQ,GAAG,EAAE,EAAC;AACb,oBAAQ,GAAG,EAAE,CAAC;SACjB,MAAK,IAAG,QAAQ,GAAG,CAAC,EAAE,EAAC;AACpB,oBAAQ,GAAG,CAAC,EAAE,CAAC;SAClB;;AAED,YAAG,QAAQ,GAAG,CAAC,EAAC;AACZ,gBAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,GAAE,QAAQ,GAAE,IAAI,CAAC;AAC3C,gBAAI,CAAC,OAAO,CAAC,MAAM,GAAG,GAAG,GAAG,QAAQ,GAAG,KAAK,GAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAE,IAAI,CAAC;AACzE,gBAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,CAAC,CAAC;AACpD,gBAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,CAAC,CAAC;AACpD,gBAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,CAAC,CAAC;SACrD,MAAI;AACD,gBAAI,CAAC,OAAO,CAAC,MAAM,GAAI,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;AACxD,gBAAI,CAAC,OAAO,CAAC,MAAM,GAAG,QAAQ,GAAG,IAAI,GAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAE,IAAI,CAAC;AAClE,gBAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,CAAC,CAAC;AACpD,gBAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,CAAC,CAAC;AACpD,gBAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,CAAC,CAAC;SACrD;KACJ;CACJ,CAAC,CAAC",
  "file": "unknown",
  "sourcesContent": [
    "var lastpoint = cc.v2(0, 0);//上次点\nvar nowpoint = cc.v2(0, 0);//当前点\nvar point = cc.v2(0, 0);//原点\nvar touch1 = false;\nvar lastparent = cc.v2(0, 0);\nvar lastrotate = 0;//上次的角度\nvar go_time = 0;//滑动时间参数\nvar began_touch = cc.v2(0, 0);\nvar now_kedu = 0;\ncc.Class({\n    extends: cc.Component,\n    properties: {\n        dapan: {\n            default: null,\n            type: cc.Label\n        },\n        up_down: {\n            default: null,\n            type: cc.Label\n        },\n        dianshu:{\n            default: null,\n            type: cc.Label\n        },\n        now_number:{\n            default: null,\n            type: cc.Node\n        }\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        // var actionBy = cc.skewBy(2,-90, -180);\n        // this.node.runAction(actionBy);\n        this.max_num = window.SHindex * 0.1;//涨幅单向最大值\n        this.sin = this.max_num / 180;//每刻度代表值\n        var self = this;\n        cc.eventManager.addListener({\n            event: cc.EventListener.TOUCH_ONE_BY_ONE,\n            onTouchBegan: function(touch, event) {\n                if(!touch1){\n                    self.node.stopAllActions();\n                    var touchLoc1 = touch.getLocation();\n                    began_touch = touchLoc1;\n                    var touchLoc = self.node.convertToNodeSpaceAR(touchLoc1);\n                    lastpoint = touchLoc;\n                    lastparent = touchLoc1;\n                    touch1 = true;\n                    lastrotate = self.node.rotation;\n                }\n                return true; // don't capture event\n            },\n            onTouchMoved: function(touch, event) {\n                if(touch1){//如果已经有触摸 则不去执行多点\n                    self.node.stopAllActions();\n                    self.now_number.active = true;\n                    var touchLoc1 = touch.getLocation();\n                    //转换坐标系\n                    var touchLoc = self.node.convertToNodeSpaceAR(touchLoc1);\n                    nowpoint = touchLoc;\n                    //三角函数计算公式\n                    var a = parseFloat(cc.pDistance (point,nowpoint)).toFixed(6);\n                    var b = parseFloat(cc.pDistance (point,lastpoint)).toFixed(6);\n                    var c = parseFloat(cc.pDistance(lastpoint,nowpoint)).toFixed(6);\n                    var rotation = 180*Math.acos((a*a + b*b - c*c)/(2*a*b))/ Math.PI;\n                    // var rotation = parseFloat((a*a + b*b - c*c)/(2*a*b));\n                    // this.day_5.node.rotation = 180*Math.asin( a/c )/ Math.PI;\n\n                    /*移动转圈笨方法判断  \n                        1. 转换坐标系,屏幕基点坐标使用世界坐标,移动坐标使用自己坐标\n                        2. 目前只做漏出来的部分拖动 下方不考虑\n                    */\n                    if(lastparent.x > touchLoc1.x && touchLoc1.y > 444){//在上边向左拖动\n                        self.node.rotation -= rotation;\n                    }else if(lastparent.x < touchLoc1.x && touchLoc1.y > 444){//在上边向右拖动\n                        self.node.rotation += rotation;\n                    }\n                    \n                    \n                    //移动完一次之后初始化一下坐标\n                    lastpoint = nowpoint;\n                    lastparent = touchLoc1;\n                }\n            },\n            onTouchEnded: function(touch, event) {\n                //抬起手指时 重新初始化所有变量\n                if(go_time <= 0.2){\n                    let touchLoc = touch.getLocation();\n                    if(began_touch.x != touchLoc.x){\n                        let ro_num = ((touchLoc.x - began_touch.x)/1000);\n                        let seq;\n                        if(ro_num >= 1 || ro_num <= -1){\n                            if(ro_num > 0){\n                                seq = cc.rotateBy(2,1080).easing(cc.easeCubicActionOut());\n                            }else{\n                                seq = cc.rotateBy (2,-1080).easing(cc.easeCubicActionOut());\n                            }\n                        }else{\n                            seq = cc.rotateBy (2*Math.abs(ro_num),1080*ro_num).easing(cc.easeCubicActionOut());\n                        }\n                        self.node.runAction(seq); \n                    }\n                }\n                lastpoint = cc.v2(0, 0);\n                nowpoint = cc.v2(0, 0);\n                lastparent = cc.v2(0, 0);\n                // self.now_number.active = false;\n                touch1 = false;\n            }\n        }, self.node);\n    },\n    //根据参数 让盘子转圈\n    to_turnable: function(num){\n        this.node.stopAllActions();\n        // this.max_num = window.SHindex * 0.1;//涨幅单向最大值\n        // this.sin = this.max_num / 180;//每刻度代表值\n        let rote = num/this.sin;//当前角度\n        var seq = cc.rotateTo (0.5,rote).easing(cc.easeCubicActionOut());\n        this.node.runAction(seq); \n    },\n    // called every frame\n    update: function (dt) {\n        let self = this;\n        //计算加速度公式\n        if(touch1){\n            go_time += dt;\n        }else{\n            go_time = 0;\n        }\n        //刷新圈数\n        if(this.node.rotation > 360){\n            this.node.rotation -=360 ;\n        }else if(this.node.rotation < -360){\n            this.node.rotation+=360;\n        }\n        //转圈逻辑\n        now_kedu = self.node.rotation;\n        if(self.node.rotation > 180){\n            now_kedu = -(360 - self.node.rotation);\n        }else if(self.node.rotation < -180){\n            now_kedu = 360 + self.node.rotation;\n        }\n        now_kedu = Math.floor(self.sin *  now_kedu);\n        self.dapan.string = window.SHindex + now_kedu;\n        let baifenbi = (now_kedu/window.SHindex)*100;\n        if(baifenbi > 10){\n            baifenbi = 10;\n        }else if(baifenbi < -10){\n            baifenbi = -10;\n        }\n        //填写刻度\n        if(now_kedu > 0){\n            self.dianshu.string = \"涨 \"+ now_kedu +\" 点\";\n            self.up_down.string = \"+\" + now_kedu + \" (+\"+ Math.floor(baifenbi) +\"%)\";\n            self.dianshu.node.color = cc.color(237,106,106,255);\n            self.up_down.node.color = cc.color(237,106,106,255);\n            self.dapan.node.color = cc.color(237,106,106,255);\n        }else{\n            self.dianshu.string =  \"跌 \" + Math.abs(now_kedu) + \" 点\";\n            self.up_down.string = now_kedu + \" (\"+ Math.floor(baifenbi) +\"%)\";\n            self.dianshu.node.color = cc.color(117,212,174,255);\n            self.up_down.node.color = cc.color(117,212,174,255);\n            self.dapan.node.color = cc.color(117,212,174,255);\n        }\n    }\n});\n"
  ]
}